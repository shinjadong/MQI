# 카카오톡 알림톡 설정 가이드

## 1. 카카오톡 채널 관리자 센터 설정

### 1️⃣ 알림톡 서비스 신청
1. **카카오톡 채널 관리자 센터** 접속: https://center-pf.kakao.com/
2. 좌측 메뉴 > **"메시지 관리"** > **"알림톡 관리"**
3. **"알림톡 서비스 신청"** 클릭
4. 사업자 정보 입력 및 승인 대기 (1-2일 소요)

### 2️⃣ REST API 키 발급
1. **카카오 개발자 센터** 접속: https://developers.kakao.com/
2. **"내 애플리케이션"** > **"애플리케이션 추가하기"**
3. 앱 이름: `CCTV 관리 알림톡`
4. **"제품 설정"** > **"카카오톡 메시지"** 활성화
5. **REST API 키** 복사하여 저장

### 3️⃣ 알림톡 템플릿 등록
1. 채널 관리자 센터 > **"알림톡 관리"** > **"템플릿 관리"**
2. **"템플릿 등록"** 클릭
3. 아래 템플릿 내용 입력:

#### 📄 **신규 문의 알림 템플릿**
```
[CCTV 신규 문의 접수]

🔥 새로운 문의가 접수되었습니다.

📋 기본 정보
• 문의일: #{문의일}
• 문의처: #{문의처}
• 채널: #{채널}
• 지역: #{지역}

👤 고객 정보
• 이름: #{고객명}
• 연락처: #{연락처}
• 요청사항: #{요청사항}

💼 상담 내용
• 형태: #{형태}
• 내용: #{상담내용}

⚡ 즉시 확인하여 빠른 대응 부탁드립니다.

---
CCTV 관리 시스템
```

#### 📄 **케어온 신청 알림 템플릿**
```
[케어온 신규 신청]

🏠 케어온 신청이 접수되었습니다.

📋 신청 정보
• 신청일시: #{신청일시}
• 고객명: #{고객명}
• 연락처: #{연락처}

🏢 설치 정보
• 설치장소: #{설치장소}
• 주소: #{주소}
• 설치대수: #{설치대수}

⚡ 빠른 상담 진행 부탁드립니다.

---
CCTV 관리 시스템
```

4. **"검수 요청"** 클릭 (승인까지 1-2일 소요)

### 4️⃣ 발송 대상자 설정
1. **직원 전화번호 수집**: 알림 받을 직원들의 휴대폰 번호
2. **카카오톡 채널 친구추가**: 직원들이 회사 카카오톡 채널 친구추가
3. **개인정보 수집 동의**: 알림톡 발송 동의서 작성

## 2. 필요한 정보 수집

### ✅ 수집해야 할 정보들
- [ ] **REST API 키**: 카카오 개발자 센터에서 발급
- [ ] **채널 ID**: 카카오톡 채널 관리자 센터에서 확인
- [ ] **템플릿 코드**: 승인된 템플릿의 고유 코드
- [ ] **발송 대상 전화번호**: 알림 받을 직원들 번호
- [ ] **Sender Key**: 알림톡 발송자 키

### 📱 직원 전화번호 예시 형식
```
010-1234-5678  # 김대리
010-9876-5432  # 이과장
010-5555-7777  # 박팀장
```

## 3. 개발 준비사항

### 📦 필요한 라이브러리
```bash
pip install requests
pip install python-dotenv
```

### 🔧 환경 변수 추가
```env
# 카카오톡 알림톡 설정
KAKAO_REST_API_KEY=your_rest_api_key
KAKAO_SENDER_KEY=your_sender_key
KAKAO_TEMPLATE_CODE_INQUIRY=your_inquiry_template_code
KAKAO_TEMPLATE_CODE_CAREON=your_careon_template_code

# 알림 받을 직원 전화번호 (콤마로 구분)
NOTIFICATION_PHONE_NUMBERS=010-1234-5678,010-9876-5432,010-5555-7777
```

## 4. 테스트 계획

### 🧪 단계별 테스트
1. **API 연결 테스트**: 카카오톡 API 정상 작동 확인
2. **템플릿 테스트**: 승인된 템플릿으로 시험 발송
3. **실제 데이터 테스트**: 새 문의 발생 시 자동 알림 확인
4. **에러 처리 테스트**: 발송 실패 시 로그 기록 확인

## 5. 주의사항

### ⚠️ 중요 포인트
- **템플릿 승인 필수**: 승인되지 않은 템플릿은 발송 불가
- **발송 비용**: 알림톡 1건당 15-20원 정도 (월 사용량에 따라 차등)
- **발송 제한**: 1일 최대 1,000건 (일반 사업자 기준)
- **개인정보보호**: 직원 전화번호 처리 시 개인정보보호법 준수
- **발송 시간 제한**: 오전 8시 ~ 오후 10시 권장

## 6. 예상 비용

### 💰 카카오톡 알림톡 요금
- **기본 요금**: 건당 15원 (대량 발송 시 할인)
- **월 예상 비용**: 신규 문의 50건 × 직원 3명 × 15원 = 2,250원/월
- **초기 설정 비용**: 무료 (직접 설정 시)

## 7. 대안 방식

### 📧 이메일 알림 (무료)
카카오톡 설정이 복잡하다면 이메일 알림으로 먼저 시작 가능:
- Gmail SMTP 사용
- 즉시 구현 가능
- 무료

### 📱 슬랙/텔레그램 봇
- 슬랙 Webhook 또는 텔레그램 봇 API
- 설정 간편
- 무료

어떤 방식을 선호하시나요?